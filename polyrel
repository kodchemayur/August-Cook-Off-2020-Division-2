#include <bits/stdc++.h>
using namespace std;
#define bitcount(x) __builtin_popcount(x)
#define ll long long int
#define INF 1000000007
#define PI 3.1415926535897932384626
#define endl "\n"
#define all(v) (v).begin(),(v).end()
#define mems(x, y) memset(x, y, sizeof(x))
const int mxN=5e4;
typedef pair<int, int>pii;
typedef pair<ll, ll>pl;
typedef vector<int>vi;
typedef vector<ll>vl;
typedef vector<pii>	vpii;
typedef vector<pl>vpl;
typedef vector<vi>vvi;
typedef vector<vl>vvl;
int main()
{
    ios_base::sync_with_stdio(false);
   	cin.tie(NULL);
   	cout.tie(0);
   	long long int t;
   	cin>>t;
   	while(t--)
    {
       int n;
       cin>>n;
       int s=n;
       while(n--)
       {
           int a,b;
           cin>>a>>b;
       }
       int sum=s;
       s=s/2;
       while(s>2)
       {
           sum=sum+s;
           s=s/2;
       }
       cout<<sum<<endl;
    }
   	return 0;
}
